var stats = 
[{"SUM_Fatalities":12,"SUM_Injuries":3540,"SUM_PedFat":11,"SUM_PedInj":988,"SUM_BikeFat":0,"SUM_BikeInj":90,"SUM_MVOFat":1,"SUM_MVOInj":2462,"Year":2009,"Month":1},
{"SUM_Fatalities":16,"SUM_Injuries":3203,"SUM_PedFat":9,"SUM_PedInj":931,"SUM_BikeFat":0,"SUM_BikeInj":130,"SUM_MVOFat":7,"SUM_MVOInj":2142,"Year":2009,"Month":2},
{"SUM_Fatalities":6,"SUM_Injuries":3666,"SUM_PedFat":4,"SUM_PedInj":989,"SUM_BikeFat":1,"SUM_BikeInj":188,"SUM_MVOFat":1,"SUM_MVOInj":2489,"Year":2009,"Month":3},
{"SUM_Fatalities":18,"SUM_Injuries":4019,"SUM_PedFat":8,"SUM_PedInj":997,"SUM_BikeFat":1,"SUM_BikeInj":234,"SUM_MVOFat":9,"SUM_MVOInj":2788,"Year":2009,"Month":4},
{"SUM_Fatalities":18,"SUM_Injuries":4442,"SUM_PedFat":10,"SUM_PedInj":1006,"SUM_BikeFat":1,"SUM_BikeInj":298,"SUM_MVOFat":7,"SUM_MVOInj":3138,"Year":2009,"Month":5},
{"SUM_Fatalities":10,"SUM_Injuries":4477,"SUM_PedFat":3,"SUM_PedInj":934,"SUM_BikeFat":2,"SUM_BikeInj":368,"SUM_MVOFat":5,"SUM_MVOInj":3175,"Year":2009,"Month":6},
{"SUM_Fatalities":14,"SUM_Injuries":4569,"SUM_PedFat":9,"SUM_PedInj":894,"SUM_BikeFat":0,"SUM_BikeInj":474,"SUM_MVOFat":5,"SUM_MVOInj":3201,"Year":2009,"Month":7},
{"SUM_Fatalities":21,"SUM_Injuries":4277,"SUM_PedFat":9,"SUM_PedInj":898,"SUM_BikeFat":3,"SUM_BikeInj":471,"SUM_MVOFat":9,"SUM_MVOInj":2908,"Year":2009,"Month":8},
{"SUM_Fatalities":14,"SUM_Injuries":4140,"SUM_PedFat":9,"SUM_PedInj":932,"SUM_BikeFat":1,"SUM_BikeInj":336,"SUM_MVOFat":4,"SUM_MVOInj":2872,"Year":2009,"Month":9},
{"SUM_Fatalities":21,"SUM_Injuries":4423,"SUM_PedFat":11,"SUM_PedInj":1147,"SUM_BikeFat":0,"SUM_BikeInj":311,"SUM_MVOFat":10,"SUM_MVOInj":2965,"Year":2009,"Month":10},
{"SUM_Fatalities":15,"SUM_Injuries":3904,"SUM_PedFat":13,"SUM_PedInj":986,"SUM_BikeFat":0,"SUM_BikeInj":247,"SUM_MVOFat":2,"SUM_MVOInj":2671,"Year":2009,"Month":11},
{"SUM_Fatalities":14,"SUM_Injuries":3834,"SUM_PedFat":10,"SUM_PedInj":1158,"SUM_BikeFat":1,"SUM_BikeInj":129,"SUM_MVOFat":3,"SUM_MVOInj":2547,"Year":2009,"Month":12},
{"SUM_Fatalities":16,"SUM_Injuries":3675,"SUM_PedFat":13,"SUM_PedInj":1062,"SUM_BikeFat":1,"SUM_BikeInj":135,"SUM_MVOFat":2,"SUM_MVOInj":2478,"Year":2010,"Month":1},
{"SUM_Fatalities":8,"SUM_Injuries":3067,"SUM_PedFat":5,"SUM_PedInj":923,"SUM_BikeFat":0,"SUM_BikeInj":117,"SUM_MVOFat":3,"SUM_MVOInj":2027,"Year":2010,"Month":2},
{"SUM_Fatalities":14,"SUM_Injuries":3822,"SUM_PedFat":8,"SUM_PedInj":1036,"SUM_BikeFat":2,"SUM_BikeInj":223,"SUM_MVOFat":4,"SUM_MVOInj":2563,"Year":2010,"Month":3},
{"SUM_Fatalities":14,"SUM_Injuries":4184,"SUM_PedFat":9,"SUM_PedInj":987,"SUM_BikeFat":1,"SUM_BikeInj":315,"SUM_MVOFat":4,"SUM_MVOInj":2882,"Year":2010,"Month":4},
{"SUM_Fatalities":11,"SUM_Injuries":4682,"SUM_PedFat":5,"SUM_PedInj":996,"SUM_BikeFat":1,"SUM_BikeInj":396,"SUM_MVOFat":5,"SUM_MVOInj":3290,"Year":2010,"Month":5},
{"SUM_Fatalities":12,"SUM_Injuries":4922,"SUM_PedFat":3,"SUM_PedInj":968,"SUM_BikeFat":1,"SUM_BikeInj":505,"SUM_MVOFat":8,"SUM_MVOInj":3449,"Year":2010,"Month":6},
{"SUM_Fatalities":14,"SUM_Injuries":4578,"SUM_PedFat":7,"SUM_PedInj":848,"SUM_BikeFat":2,"SUM_BikeInj":487,"SUM_MVOFat":5,"SUM_MVOInj":3243,"Year":2010,"Month":7},
{"SUM_Fatalities":17,"SUM_Injuries":4488,"SUM_PedFat":5,"SUM_PedInj":872,"SUM_BikeFat":1,"SUM_BikeInj":471,"SUM_MVOFat":11,"SUM_MVOInj":3145,"Year":2010,"Month":8},
{"SUM_Fatalities":21,"SUM_Injuries":4525,"SUM_PedFat":14,"SUM_PedInj":978,"SUM_BikeFat":1,"SUM_BikeInj":472,"SUM_MVOFat":6,"SUM_MVOInj":3075,"Year":2010,"Month":9},
{"SUM_Fatalities":13,"SUM_Injuries":4585,"SUM_PedFat":8,"SUM_PedInj":1185,"SUM_BikeFat":1,"SUM_BikeInj":391,"SUM_MVOFat":4,"SUM_MVOInj":3009,"Year":2010,"Month":10},
{"SUM_Fatalities":14,"SUM_Injuries":4273,"SUM_PedFat":9,"SUM_PedInj":1111,"SUM_BikeFat":0,"SUM_BikeInj":296,"SUM_MVOFat":5,"SUM_MVOInj":2866,"Year":2010,"Month":11},
{"SUM_Fatalities":8,"SUM_Injuries":3558,"SUM_PedFat":6,"SUM_PedInj":1001,"SUM_BikeFat":1,"SUM_BikeInj":167,"SUM_MVOFat":1,"SUM_MVOInj":2390,"Year":2010,"Month":12},
{"SUM_Fatalities":12,"SUM_Injuries":3140,"SUM_PedFat":8,"SUM_PedInj":933,"SUM_BikeFat":1,"SUM_BikeInj":95,"SUM_MVOFat":3,"SUM_MVOInj":2112,"Year":2011,"Month":1},
{"SUM_Fatalities":14,"SUM_Injuries":2785,"SUM_PedFat":10,"SUM_PedInj":858,"SUM_BikeFat":0,"SUM_BikeInj":124,"SUM_MVOFat":4,"SUM_MVOInj":1803,"Year":2011,"Month":2},
{"SUM_Fatalities":10,"SUM_Injuries":3722,"SUM_PedFat":8,"SUM_PedInj":1043,"SUM_BikeFat":1,"SUM_BikeInj":215,"SUM_MVOFat":1,"SUM_MVOInj":2464,"Year":2011,"Month":3},
{"SUM_Fatalities":14,"SUM_Injuries":3532,"SUM_PedFat":8,"SUM_PedInj":862,"SUM_BikeFat":1,"SUM_BikeInj":262,"SUM_MVOFat":5,"SUM_MVOInj":2408,"Year":2011,"Month":4},
{"SUM_Fatalities":10,"SUM_Injuries":4454,"SUM_PedFat":7,"SUM_PedInj":1056,"SUM_BikeFat":1,"SUM_BikeInj":385,"SUM_MVOFat":2,"SUM_MVOInj":3013,"Year":2011,"Month":5},
{"SUM_Fatalities":10,"SUM_Injuries":4429,"SUM_PedFat":7,"SUM_PedInj":932,"SUM_BikeFat":2,"SUM_BikeInj":523,"SUM_MVOFat":1,"SUM_MVOInj":2974,"Year":2011,"Month":6},
{"SUM_Fatalities":14,"SUM_Injuries":4516,"SUM_PedFat":5,"SUM_PedInj":870,"SUM_BikeFat":2,"SUM_BikeInj":522,"SUM_MVOFat":7,"SUM_MVOInj":3124,"Year":2011,"Month":7},
{"SUM_Fatalities":17,"SUM_Injuries":4102,"SUM_PedFat":4,"SUM_PedInj":858,"SUM_BikeFat":5,"SUM_BikeInj":446,"SUM_MVOFat":8,"SUM_MVOInj":2798,"Year":2011,"Month":8},
{"SUM_Fatalities":18,"SUM_Injuries":4183,"SUM_PedFat":9,"SUM_PedInj":938,"SUM_BikeFat":1,"SUM_BikeInj":393,"SUM_MVOFat":8,"SUM_MVOInj":2852,"Year":2011,"Month":9},
{"SUM_Fatalities":20,"SUM_Injuries":4240,"SUM_PedFat":13,"SUM_PedInj":1169,"SUM_BikeFat":1,"SUM_BikeInj":348,"SUM_MVOFat":6,"SUM_MVOInj":2723,"Year":2011,"Month":10},
{"SUM_Fatalities":15,"SUM_Injuries":4158,"SUM_PedFat":9,"SUM_PedInj":1189,"SUM_BikeFat":1,"SUM_BikeInj":255,"SUM_MVOFat":5,"SUM_MVOInj":2714,"Year":2011,"Month":11},
{"SUM_Fatalities":23,"SUM_Injuries":4141,"SUM_PedFat":17,"SUM_PedInj":1233,"SUM_BikeFat":1,"SUM_BikeInj":206,"SUM_MVOFat":5,"SUM_MVOInj":2702,"Year":2011,"Month":12},
{"SUM_Fatalities":16,"SUM_Injuries":3615,"SUM_PedFat":11,"SUM_PedInj":1041,"SUM_BikeFat":1,"SUM_BikeInj":185,"SUM_MVOFat":4,"SUM_MVOInj":2389,"Year":2012,"Month":1},
{"SUM_Fatalities":14,"SUM_Injuries":3315,"SUM_PedFat":10,"SUM_PedInj":992,"SUM_BikeFat":1,"SUM_BikeInj":182,"SUM_MVOFat":3,"SUM_MVOInj":2141,"Year":2012,"Month":2},
{"SUM_Fatalities":15,"SUM_Injuries":3923,"SUM_PedFat":9,"SUM_PedInj":888,"SUM_BikeFat":1,"SUM_BikeInj":239,"SUM_MVOFat":5,"SUM_MVOInj":2796,"Year":2012,"Month":3},
{"SUM_Fatalities":19,"SUM_Injuries":4054,"SUM_PedFat":11,"SUM_PedInj":935,"SUM_BikeFat":5,"SUM_BikeInj":323,"SUM_MVOFat":3,"SUM_MVOInj":2796,"Year":2012,"Month":4},
{"SUM_Fatalities":27,"SUM_Injuries":4173,"SUM_PedFat":15,"SUM_PedInj":903,"SUM_BikeFat":1,"SUM_BikeInj":376,"SUM_MVOFat":11,"SUM_MVOInj":2894,"Year":2012,"Month":5},
{"SUM_Fatalities":21,"SUM_Injuries":4250,"SUM_PedFat":10,"SUM_PedInj":951,"SUM_BikeFat":2,"SUM_BikeInj":383,"SUM_MVOFat":9,"SUM_MVOInj":2916,"Year":2012,"Month":6},
{"SUM_Fatalities":21,"SUM_Injuries":4173,"SUM_PedFat":5,"SUM_PedInj":849,"SUM_BikeFat":3,"SUM_BikeInj":448,"SUM_MVOFat":13,"SUM_MVOInj":2876,"Year":2012,"Month":7},
{"SUM_Fatalities":23,"SUM_Injuries":4031,"SUM_PedFat":14,"SUM_PedInj":845,"SUM_BikeFat":1,"SUM_BikeInj":506,"SUM_MVOFat":8,"SUM_MVOInj":2680,"Year":2012,"Month":8},
{"SUM_Fatalities":21,"SUM_Injuries":4023,"SUM_PedFat":13,"SUM_PedInj":889,"SUM_BikeFat":1,"SUM_BikeInj":432,"SUM_MVOFat":7,"SUM_MVOInj":2702,"Year":2012,"Month":9},
{"SUM_Fatalities":19,"SUM_Injuries":3974,"SUM_PedFat":12,"SUM_PedInj":978,"SUM_BikeFat":1,"SUM_BikeInj":329,"SUM_MVOFat":6,"SUM_MVOInj":2667,"Year":2012,"Month":10},
{"SUM_Fatalities":13,"SUM_Injuries":3509,"SUM_PedFat":8,"SUM_PedInj":1030,"SUM_BikeFat":0,"SUM_BikeInj":275,"SUM_MVOFat":5,"SUM_MVOInj":2204,"Year":2012,"Month":11},
{"SUM_Fatalities":24,"SUM_Injuries":4012,"SUM_PedFat":15,"SUM_PedInj":1289,"SUM_BikeFat":0,"SUM_BikeInj":212,"SUM_MVOFat":9,"SUM_MVOInj":2511,"Year":2012,"Month":12},
{"SUM_Fatalities":27,"SUM_Injuries":3497,"SUM_PedFat":20,"SUM_PedInj":1107,"SUM_BikeFat":0,"SUM_BikeInj":192,"SUM_MVOFat":7,"SUM_MVOInj":2198,"Year":2013,"Month":1},
{"SUM_Fatalities":17,"SUM_Injuries":3066,"SUM_PedFat":11,"SUM_PedInj":978,"SUM_BikeFat":0,"SUM_BikeInj":131,"SUM_MVOFat":6,"SUM_MVOInj":1957,"Year":2013,"Month":2},
{"SUM_Fatalities":20,"SUM_Injuries":3651,"SUM_PedFat":11,"SUM_PedInj":985,"SUM_BikeFat":1,"SUM_BikeInj":195,"SUM_MVOFat":8,"SUM_MVOInj":2471,"Year":2013,"Month":3},
{"SUM_Fatalities":15,"SUM_Injuries":3841,"SUM_PedFat":11,"SUM_PedInj":896,"SUM_BikeFat":0,"SUM_BikeInj":290,"SUM_MVOFat":4,"SUM_MVOInj":2655,"Year":2013,"Month":4},
{"SUM_Fatalities":13,"SUM_Injuries":4329,"SUM_PedFat":6,"SUM_PedInj":976,"SUM_BikeFat":2,"SUM_BikeInj":398,"SUM_MVOFat":5,"SUM_MVOInj":2955,"Year":2013,"Month":5},
{"SUM_Fatalities":19,"SUM_Injuries":4418,"SUM_PedFat":12,"SUM_PedInj":966,"SUM_BikeFat":3,"SUM_BikeInj":507,"SUM_MVOFat":4,"SUM_MVOInj":2945,"Year":2013,"Month":6},
{"SUM_Fatalities":22,"SUM_Injuries":4450,"SUM_PedFat":13,"SUM_PedInj":847,"SUM_BikeFat":0,"SUM_BikeInj":468,"SUM_MVOFat":9,"SUM_MVOInj":3135,"Year":2013,"Month":7},
{"SUM_Fatalities":29,"SUM_Injuries":4195,"SUM_PedFat":12,"SUM_PedInj":847,"SUM_BikeFat":1,"SUM_BikeInj":520,"SUM_MVOFat":16,"SUM_MVOInj":2828,"Year":2013,"Month":8},
{"SUM_Fatalities":23,"SUM_Injuries":4346,"SUM_PedFat":14,"SUM_PedInj":995,"SUM_BikeFat":0,"SUM_BikeInj":479,"SUM_MVOFat":9,"SUM_MVOInj":2872,"Year":2013,"Month":9},
{"SUM_Fatalities":21,"SUM_Injuries":4188,"SUM_PedFat":15,"SUM_PedInj":1058,"SUM_BikeFat":2,"SUM_BikeInj":428,"SUM_MVOFat":4,"SUM_MVOInj":2702,"Year":2013,"Month":10},
{"SUM_Fatalities":29,"SUM_Injuries":4049,"SUM_PedFat":23,"SUM_PedInj":1101,"SUM_BikeFat":2,"SUM_BikeInj":281,"SUM_MVOFat":4,"SUM_MVOInj":2667,"Year":2013,"Month":11},
{"SUM_Fatalities":24,"SUM_Injuries":3707,"SUM_PedFat":15,"SUM_PedInj":1162,"SUM_BikeFat":0,"SUM_BikeInj":174,"SUM_MVOFat":9,"SUM_MVOInj":2371,"Year":2013,"Month":12},
{"SUM_Fatalities":18,"SUM_Injuries":3406,"SUM_PedFat":12,"SUM_PedInj":1078,"SUM_BikeFat":1,"SUM_BikeInj":117,"SUM_MVOFat":5,"SUM_MVOInj":2211,"Year":2014,"Month":1},
{"SUM_Fatalities":9,"SUM_Injuries":2679,"SUM_PedFat":7,"SUM_PedInj":814,"SUM_BikeFat":1,"SUM_BikeInj":94,"SUM_MVOFat":1,"SUM_MVOInj":1771,"Year":2014,"Month":2},
{"SUM_Fatalities":16,"SUM_Injuries":3329,"SUM_PedFat":10,"SUM_PedInj":950,"SUM_BikeFat":0,"SUM_BikeInj":189,"SUM_MVOFat":6,"SUM_MVOInj":2190,"Year":2014,"Month":3},
{"SUM_Fatalities":20,"SUM_Injuries":3475,"SUM_PedFat":8,"SUM_PedInj":852,"SUM_BikeFat":2,"SUM_BikeInj":305,"SUM_MVOFat":10,"SUM_MVOInj":2318,"Year":2014,"Month":4},
{"SUM_Fatalities":22,"SUM_Injuries":3915,"SUM_PedFat":9,"SUM_PedInj":878,"SUM_BikeFat":2,"SUM_BikeInj":383,"SUM_MVOFat":11,"SUM_MVOInj":2654,"Year":2014,"Month":5},
{"SUM_Fatalities":17,"SUM_Injuries":4299,"SUM_PedFat":7,"SUM_PedInj":939,"SUM_BikeFat":3,"SUM_BikeInj":471,"SUM_MVOFat":7,"SUM_MVOInj":2889,"Year":2014,"Month":6},
{"SUM_Fatalities":26,"SUM_Injuries":3975,"SUM_PedFat":14,"SUM_PedInj":770,"SUM_BikeFat":3,"SUM_BikeInj":534,"SUM_MVOFat":9,"SUM_MVOInj":2671,"Year":2014,"Month":7},
{"SUM_Fatalities":12,"SUM_Injuries":3913,"SUM_PedFat":7,"SUM_PedInj":755,"SUM_BikeFat":2,"SUM_BikeInj":499,"SUM_MVOFat":3,"SUM_MVOInj":2659,"Year":2014,"Month":8}];


var stats2 = 

[{"SUM_Fatalities":179,"SUM_Injuries":48494,"SUM_PedFat":106,"SUM_PedInj":11860,"SUM_BikeFat":10,"SUM_BikeInj":3276,"SUM_MVOFat":63,"SUM_MVOInj":33358,"Year":2009},
{"SUM_Fatalities":162,"SUM_Injuries":50359,"SUM_PedFat":92,"SUM_PedInj":11967,"SUM_BikeFat":12,"SUM_BikeInj":3975,"SUM_MVOFat":58,"SUM_MVOInj":34417,"Year":2010},
{"SUM_Fatalities":177,"SUM_Injuries":47402,"SUM_PedFat":105,"SUM_PedInj":11941,"SUM_BikeFat":17,"SUM_BikeInj":3774,"SUM_MVOFat":55,"SUM_MVOInj":31687,"Year":2011},
{"SUM_Fatalities":233,"SUM_Injuries":47052,"SUM_PedFat":133,"SUM_PedInj":11590,"SUM_BikeFat":17,"SUM_BikeInj":3890,"SUM_MVOFat":83,"SUM_MVOInj":31572,"Year":2012},
{"SUM_Fatalities":259,"SUM_Injuries":47737,"SUM_PedFat":163,"SUM_PedInj":11918,"SUM_BikeFat":11,"SUM_BikeInj":4063,"SUM_MVOFat":85,"SUM_MVOInj":31756,"Year":2013},
{"SUM_Fatalities":144,"SUM_Injuries":30010,"SUM_PedFat":76,"SUM_PedInj":7208,"SUM_BikeFat":14,"SUM_BikeInj":2722,"SUM_MVOFat":54,"SUM_MVOInj":20080,"Year":2014}];





////////////////////////////////////    mobile view crash layer selector ///////////////////////////////////////////////////////////////////////////////



function checkStats(){
             
    var monthVal = $("#monthSelect").val();
       var yearVal = $("#yearSelect").val();
       selectMonthVal = parseInt(monthVal);
       selectYearVal = parseInt(yearVal);

       if ($('#yearSelect').is(':visible')) {
      
              curInjuryValue = smallScreenCrashLayer();
              
              if (curInjuryValue >= 68){
                     $("#stat1Mobile").text("Data not yet available");
                     $("#stat2Mobile").text("");
                     
              }
              else{
                setStats(curInjuryValue);
              }
     }
       
       else{
              if (monthly){
            
                     curInjuryValue = $('#jqxslider').jqxSlider('getValue');
                     setStats(curInjuryValue);
              }
              else if (yearly){
                    var curInjuryValue;
                     curInjuryValue = $('#jqxslider2').jqxSlider('getValue');
                     setStats(curInjuryValue);
                    
               }
     }

}

function setStats(curInjuryValue) {
       if (monthly){
            if (ped){
                     $("#stat1").text("Pedestrian Fatalities: " + stats[curInjuryValue].SUM_PedFat);
                     $("#stat2").text("Pedestrian Injuries: " + commaSeparateNumber(stats[curInjuryValue].SUM_PedInj));
                     $("#stat1Mobile").text("Pedestrian Fatalities: " + stats[curInjuryValue].SUM_PedFat);
                     $("#stat2Mobile").text("Pedestrian Injuries: " + commaSeparateNumber(stats[curInjuryValue].SUM_PedInj));
                     
              }
              else if (bike){
                     $("#stat1").text("Cyclist Fatalities: " + stats[curInjuryValue].SUM_BikeFat);
                     $("#stat2").text("Cyclist Injuries: " + commaSeparateNumber(stats[curInjuryValue].SUM_BikeInj));
                     $("#stat1Mobile").text("Cyclist Fatalities: " + stats[curInjuryValue].SUM_BikeFat);
                     $("#stat2Mobile").text("Cyclist Injuries: " + commaSeparateNumber(stats[curInjuryValue].SUM_BikeInj));
                     

              }
              else if (motor){
                     $("#stat1").text("Motorist Fatalities: " + stats[curInjuryValue].SUM_MVOFat);
                     $("#stat2").text("Motorist Injuries: " + commaSeparateNumber(stats[curInjuryValue].SUM_MVOInj));
                     $("#stat1Mobile").text("Motorist Fatalities: " + stats[curInjuryValue].SUM_MVOFat);
                     $("#stat2Mobile").text("Motorist Injuries: " + commaSeparateNumber(stats[curInjuryValue].SUM_MVOInj));
                     
              }
              else if (all){
                     $("#stat1").text("All Fatalities: " +  commaSeparateNumber(stats[curInjuryValue].SUM_Fatalities));
                     $("#stat2").text("All Injuries: " +  commaSeparateNumber(stats[curInjuryValue].SUM_Injuries));
                     $("#stat1Mobile").text("All Fatalities: " +  commaSeparateNumber(stats[curInjuryValue].SUM_Fatalities));
                     $("#stat2Mobile").text("All Injuries: " +  commaSeparateNumber(stats[curInjuryValue].SUM_Injuries));
                                    
              }
              
              
       }
       
       else if (yearly){

              if (ped){
                     $("#stat1").text("Pedestrian Fatalities: " + stats2[curInjuryValue].SUM_PedFat);
                     $("#stat2").text("Pedestrian Injuries: " + commaSeparateNumber(stats2[curInjuryValue].SUM_PedInj));
                     $("#stat1Mobile").text("Pedestrian Fatalities: " + stats2[curInjuryValue].SUM_PedFat);
                     $("#stat2Mobile").text("Pedestrian Injuries: " + commaSeparateNumber(stats2[curInjuryValue].SUM_PedInj));
                     
              }
              else if (bike){
                     $("#stat1").text("Cyclist Fatalities: " + stats2[curInjuryValue].SUM_BikeFat);
                     $("#stat2").text("Cyclist Injuries: " + commaSeparateNumber(stats2[curInjuryValue].SUM_BikeInj));
                     $("#stat1Mobile").text("Cyclist Fatalities: " + stats2[curInjuryValue].SUM_BikeFat);
                     $("#stat2Mobile").text("Cyclist Injuries: " + commaSeparateNumber(stats2[curInjuryValue].SUM_BikeInj));

              }
              else if (motor){
                     $("#stat1").text("Motorist Fatalities: " + stats2[curInjuryValue].SUM_MVOFat);
                     $("#stat2").text("Motorist Injuries: " + commaSeparateNumber(stats2[curInjuryValue].SUM_MVOInj));
                     $("#stat1Mobile").text("Motorist Fatalities: " + stats2[curInjuryValue].SUM_MVOFat);
                     $("#stat2Mobile").text("Motorist Injuries: " + commaSeparateNumber(stats2[curInjuryValue].SUM_MVOInj));

              }
              else if (all){
                     $("#stat1").text("All Fatalities: " + stats2[curInjuryValue].SUM_Fatalities);
                     $("#stat2").text("All Injuries: " + commaSeparateNumber(stats2[curInjuryValue].SUM_Injuries));
                     $("#stat1Mobile").text("All Fatalities: " + stats2[curInjuryValue].SUM_Fatalities);
                     $("#stat2Mobile").text("All Injuries: " + commaSeparateNumber(stats2[curInjuryValue].SUM_Injuries));

                       }
              }
}

function commaSeparateNumber(val){
    val = val.toString().replace(/,/g, ''); //remove existing commas first
   var valSplit = val.split('.'); //then separate decimals
              
   while (/(\d+)(\d{3})/.test(valSplit[0].toString())){
        valSplit[0] = valSplit[0].toString().replace(/(\d+)(\d{3})/, '$1'+','+'$2');
    }
    
    if(valSplit.length == 2){ //if there were decimals
        val = valSplit[0] + "." + valSplit[1]; //add decimals back
    }else{
        val = valSplit[0]; }
       
    return val;
}
