var stats = 
[{"SUM_CRASHES":13916,"SUM_Inj_Crashes":2436,"SUM_Fat_Cr":11,"SUM_Fatalities":12,"SUM_Injuries":3340,"SUM_PedFat":11,"SUM_PedInj":935,"SUM_BikeFat":0,"SUM_BikeInj":88,"SUM_MVOFat":1,"SUM_MVOInj":2317,"SUM_Non_Inj":11480,"Month":"1/1/2009"},
{"SUM_CRASHES":12054,"SUM_Inj_Crashes":2248,"SUM_Fat_Cr":12,"SUM_Fatalities":13,"SUM_Injuries":3057,"SUM_PedFat":9,"SUM_PedInj":895,"SUM_BikeFat":0,"SUM_BikeInj":122,"SUM_MVOFat":4,"SUM_MVOInj":2040,"SUM_Non_Inj":9806,"Month":"2/1/2009"},
{"SUM_CRASHES":13578,"SUM_Inj_Crashes":2548,"SUM_Fat_Cr":6,"SUM_Fatalities":6,"SUM_Injuries":3484,"SUM_PedFat":4,"SUM_PedInj":955,"SUM_BikeFat":1,"SUM_BikeInj":183,"SUM_MVOFat":1,"SUM_MVOInj":2346,"SUM_Non_Inj":11030,"Month":"3/1/2009"},
{"SUM_CRASHES":13454,"SUM_Inj_Crashes":2692,"SUM_Fat_Cr":18,"SUM_Fatalities":18,"SUM_Injuries":3806,"SUM_PedFat":8,"SUM_PedInj":945,"SUM_BikeFat":1,"SUM_BikeInj":225,"SUM_MVOFat":9,"SUM_MVOInj":2636,"SUM_Non_Inj":10762,"Month":"4/1/2009"},
{"SUM_CRASHES":14895,"SUM_Inj_Crashes":2989,"SUM_Fat_Cr":14,"SUM_Fatalities":16,"SUM_Injuries":4186,"SUM_PedFat":10,"SUM_PedInj":965,"SUM_BikeFat":1,"SUM_BikeInj":292,"SUM_MVOFat":5,"SUM_MVOInj":2929,"SUM_Non_Inj":11906,"Month":"5/1/2009"},
{"SUM_CRASHES":14883,"SUM_Inj_Crashes":2997,"SUM_Fat_Cr":9,"SUM_Fatalities":9,"SUM_Injuries":4250,"SUM_PedFat":3,"SUM_PedInj":888,"SUM_BikeFat":2,"SUM_BikeInj":358,"SUM_MVOFat":4,"SUM_MVOInj":3004,"SUM_Non_Inj":11886,"Month":"6/1/2009"},
{"SUM_CRASHES":14526,"SUM_Inj_Crashes":3013,"SUM_Fat_Cr":10,"SUM_Fatalities":11,"SUM_Injuries":4285,"SUM_PedFat":7,"SUM_PedInj":845,"SUM_BikeFat":0,"SUM_BikeInj":451,"SUM_MVOFat":4,"SUM_MVOInj":2989,"SUM_Non_Inj":11513,"Month":"7/1/2009"},
{"SUM_CRASHES":14047,"SUM_Inj_Crashes":2902,"SUM_Fat_Cr":20,"SUM_Fatalities":20,"SUM_Injuries":4031,"SUM_PedFat":9,"SUM_PedInj":858,"SUM_BikeFat":3,"SUM_BikeInj":454,"SUM_MVOFat":8,"SUM_MVOInj":2719,"SUM_Non_Inj":11145,"Month":"8/1/2009"},
{"SUM_CRASHES":13933,"SUM_Inj_Crashes":2852,"SUM_Fat_Cr":13,"SUM_Fatalities":14,"SUM_Injuries":3922,"SUM_PedFat":9,"SUM_PedInj":894,"SUM_BikeFat":1,"SUM_BikeInj":327,"SUM_MVOFat":4,"SUM_MVOInj":2701,"SUM_Non_Inj":11081,"Month":"9/1/2009"},
{"SUM_CRASHES":15160,"SUM_Inj_Crashes":3063,"SUM_Fat_Cr":18,"SUM_Fatalities":19,"SUM_Injuries":4192,"SUM_PedFat":10,"SUM_PedInj":1098,"SUM_BikeFat":0,"SUM_BikeInj":304,"SUM_MVOFat":9,"SUM_MVOInj":2790,"SUM_Non_Inj":12097,"Month":"10/1/2009"},
{"SUM_CRASHES":13368,"SUM_Inj_Crashes":2653,"SUM_Fat_Cr":14,"SUM_Fatalities":15,"SUM_Injuries":3684,"SUM_PedFat":13,"SUM_PedInj":942,"SUM_BikeFat":0,"SUM_BikeInj":240,"SUM_MVOFat":2,"SUM_MVOInj":2502,"SUM_Non_Inj":10715,"Month":"11/1/2009"},
{"SUM_CRASHES":14729,"SUM_Inj_Crashes":2696,"SUM_Fat_Cr":13,"SUM_Fatalities":13,"SUM_Injuries":3570,"SUM_PedFat":9,"SUM_PedInj":1104,"SUM_BikeFat":1,"SUM_BikeInj":124,"SUM_MVOFat":3,"SUM_MVOInj":2342,"SUM_Non_Inj":12033,"Month":"12/1/2009"},
{"SUM_CRASHES":12589,"SUM_Inj_Crashes":2557,"SUM_Fat_Cr":16,"SUM_Fatalities":16,"SUM_Injuries":3505,"SUM_PedFat":13,"SUM_PedInj":1016,"SUM_BikeFat":1,"SUM_BikeInj":128,"SUM_MVOFat":2,"SUM_MVOInj":2361,"SUM_Non_Inj":10032,"Month":"1/1/2010"},
{"SUM_CRASHES":12739,"SUM_Inj_Crashes":2178,"SUM_Fat_Cr":7,"SUM_Fatalities":7,"SUM_Injuries":2899,"SUM_PedFat":5,"SUM_PedInj":893,"SUM_BikeFat":0,"SUM_BikeInj":113,"SUM_MVOFat":2,"SUM_MVOInj":1893,"SUM_Non_Inj":10561,"Month":"2/1/2010"},
{"SUM_CRASHES":14001,"SUM_Inj_Crashes":2668,"SUM_Fat_Cr":12,"SUM_Fatalities":12,"SUM_Injuries":3591,"SUM_PedFat":7,"SUM_PedInj":985,"SUM_BikeFat":2,"SUM_BikeInj":216,"SUM_MVOFat":3,"SUM_MVOInj":2390,"SUM_Non_Inj":11333,"Month":"3/1/2010"},
{"SUM_CRASHES":13965,"SUM_Inj_Crashes":2815,"SUM_Fat_Cr":14,"SUM_Fatalities":14,"SUM_Injuries":3964,"SUM_PedFat":9,"SUM_PedInj":945,"SUM_BikeFat":1,"SUM_BikeInj":306,"SUM_MVOFat":4,"SUM_MVOInj":2713,"SUM_Non_Inj":11150,"Month":"4/1/2010"},
{"SUM_CRASHES":15068,"SUM_Inj_Crashes":3173,"SUM_Fat_Cr":10,"SUM_Fatalities":10,"SUM_Injuries":4434,"SUM_PedFat":5,"SUM_PedInj":955,"SUM_BikeFat":1,"SUM_BikeInj":387,"SUM_MVOFat":4,"SUM_MVOInj":3092,"SUM_Non_Inj":11895,"Month":"5/1/2010"},
{"SUM_CRASHES":15415,"SUM_Inj_Crashes":3243,"SUM_Fat_Cr":10,"SUM_Fatalities":12,"SUM_Injuries":4592,"SUM_PedFat":3,"SUM_PedInj":916,"SUM_BikeFat":1,"SUM_BikeInj":488,"SUM_MVOFat":8,"SUM_MVOInj":3188,"SUM_Non_Inj":12172,"Month":"6/1/2010"},
{"SUM_CRASHES":14547,"SUM_Inj_Crashes":3033,"SUM_Fat_Cr":13,"SUM_Fatalities":13,"SUM_Injuries":4342,"SUM_PedFat":7,"SUM_PedInj":800,"SUM_BikeFat":2,"SUM_BikeInj":477,"SUM_MVOFat":4,"SUM_MVOInj":3065,"SUM_Non_Inj":11514,"Month":"7/1/2010"},
{"SUM_CRASHES":14067,"SUM_Inj_Crashes":2989,"SUM_Fat_Cr":15,"SUM_Fatalities":16,"SUM_Injuries":4214,"SUM_PedFat":5,"SUM_PedInj":814,"SUM_BikeFat":1,"SUM_BikeInj":461,"SUM_MVOFat":10,"SUM_MVOInj":2939,"SUM_Non_Inj":11078,"Month":"8/1/2010"},
{"SUM_CRASHES":14421,"SUM_Inj_Crashes":3067,"SUM_Fat_Cr":21,"SUM_Fatalities":21,"SUM_Injuries":4284,"SUM_PedFat":14,"SUM_PedInj":929,"SUM_BikeFat":1,"SUM_BikeInj":455,"SUM_MVOFat":6,"SUM_MVOInj":2900,"SUM_Non_Inj":11354,"Month":"9/1/2010"},
{"SUM_CRASHES":14668,"SUM_Inj_Crashes":3211,"SUM_Fat_Cr":11,"SUM_Fatalities":11,"SUM_Injuries":4356,"SUM_PedFat":8,"SUM_PedInj":1131,"SUM_BikeFat":1,"SUM_BikeInj":376,"SUM_MVOFat":2,"SUM_MVOInj":2849,"SUM_Non_Inj":11457,"Month":"10/1/2010"},
{"SUM_CRASHES":14008,"SUM_Inj_Crashes":2928,"SUM_Fat_Cr":11,"SUM_Fatalities":11,"SUM_Injuries":4013,"SUM_PedFat":8,"SUM_PedInj":1068,"SUM_BikeFat":0,"SUM_BikeInj":284,"SUM_MVOFat":3,"SUM_MVOInj":2661,"SUM_Non_Inj":11080,"Month":"11/1/2010"},
{"SUM_CRASHES":14539,"SUM_Inj_Crashes":2480,"SUM_Fat_Cr":7,"SUM_Fatalities":7,"SUM_Injuries":3359,"SUM_PedFat":5,"SUM_PedInj":948,"SUM_BikeFat":1,"SUM_BikeInj":162,"SUM_MVOFat":1,"SUM_MVOInj":2249,"SUM_Non_Inj":12059,"Month":"12/1/2010"},
{"SUM_CRASHES":14148,"SUM_Inj_Crashes":2183,"SUM_Fat_Cr":8,"SUM_Fatalities":9,"SUM_Injuries":2973,"SUM_PedFat":5,"SUM_PedInj":900,"SUM_BikeFat":1,"SUM_BikeInj":90,"SUM_MVOFat":3,"SUM_MVOInj":1983,"SUM_Non_Inj":11965,"Month":"1/1/2011"},
{"SUM_CRASHES":11756,"SUM_Inj_Crashes":1987,"SUM_Fat_Cr":13,"SUM_Fatalities":13,"SUM_Injuries":2625,"SUM_PedFat":9,"SUM_PedInj":820,"SUM_BikeFat":0,"SUM_BikeInj":122,"SUM_MVOFat":4,"SUM_MVOInj":1683,"SUM_Non_Inj":9769,"Month":"2/1/2011"},
{"SUM_CRASHES":13043,"SUM_Inj_Crashes":2608,"SUM_Fat_Cr":9,"SUM_Fatalities":9,"SUM_Injuries":3501,"SUM_PedFat":7,"SUM_PedInj":993,"SUM_BikeFat":1,"SUM_BikeInj":210,"SUM_MVOFat":1,"SUM_MVOInj":2298,"SUM_Non_Inj":10435,"Month":"3/1/2011"},
{"SUM_CRASHES":12526,"SUM_Inj_Crashes":2389,"SUM_Fat_Cr":12,"SUM_Fatalities":12,"SUM_Injuries":3327,"SUM_PedFat":8,"SUM_PedInj":822,"SUM_BikeFat":1,"SUM_BikeInj":253,"SUM_MVOFat":3,"SUM_MVOInj":2252,"SUM_Non_Inj":10137,"Month":"4/1/2011"},
{"SUM_CRASHES":14202,"SUM_Inj_Crashes":3022,"SUM_Fat_Cr":10,"SUM_Fatalities":10,"SUM_Injuries":4209,"SUM_PedFat":7,"SUM_PedInj":988,"SUM_BikeFat":1,"SUM_BikeInj":374,"SUM_MVOFat":2,"SUM_MVOInj":2847,"SUM_Non_Inj":11180,"Month":"5/1/2011"},
{"SUM_CRASHES":14341,"SUM_Inj_Crashes":3048,"SUM_Fat_Cr":9,"SUM_Fatalities":9,"SUM_Injuries":4184,"SUM_PedFat":6,"SUM_PedInj":890,"SUM_BikeFat":2,"SUM_BikeInj":506,"SUM_MVOFat":1,"SUM_MVOInj":2788,"SUM_Non_Inj":11293,"Month":"6/1/2011"},
{"SUM_CRASHES":14374,"SUM_Inj_Crashes":3044,"SUM_Fat_Cr":13,"SUM_Fatalities":13,"SUM_Injuries":4298,"SUM_PedFat":5,"SUM_PedInj":837,"SUM_BikeFat":2,"SUM_BikeInj":496,"SUM_MVOFat":6,"SUM_MVOInj":2965,"SUM_Non_Inj":11330,"Month":"7/1/2011"},
{"SUM_CRASHES":13605,"SUM_Inj_Crashes":2834,"SUM_Fat_Cr":15,"SUM_Fatalities":16,"SUM_Injuries":3883,"SUM_PedFat":4,"SUM_PedInj":812,"SUM_BikeFat":5,"SUM_BikeInj":430,"SUM_MVOFat":7,"SUM_MVOInj":2641,"SUM_Non_Inj":10771,"Month":"8/1/2011"},
{"SUM_CRASHES":13844,"SUM_Inj_Crashes":2924,"SUM_Fat_Cr":17,"SUM_Fatalities":17,"SUM_Injuries":3972,"SUM_PedFat":9,"SUM_PedInj":883,"SUM_BikeFat":1,"SUM_BikeInj":379,"SUM_MVOFat":7,"SUM_MVOInj":2710,"SUM_Non_Inj":10920,"Month":"9/1/2011"},
{"SUM_CRASHES":14282,"SUM_Inj_Crashes":3044,"SUM_Fat_Cr":19,"SUM_Fatalities":19,"SUM_Injuries":4053,"SUM_PedFat":12,"SUM_PedInj":1117,"SUM_BikeFat":1,"SUM_BikeInj":337,"SUM_MVOFat":6,"SUM_MVOInj":2599,"SUM_Non_Inj":11238,"Month":"10/1/2011"},
{"SUM_CRASHES":13514,"SUM_Inj_Crashes":2904,"SUM_Fat_Cr":13,"SUM_Fatalities":13,"SUM_Injuries":3934,"SUM_PedFat":8,"SUM_PedInj":1130,"SUM_BikeFat":1,"SUM_BikeInj":244,"SUM_MVOFat":4,"SUM_MVOInj":2560,"SUM_Non_Inj":10610,"Month":"11/1/2011"},
{"SUM_CRASHES":13907,"SUM_Inj_Crashes":2915,"SUM_Fat_Cr":21,"SUM_Fatalities":21,"SUM_Injuries":3909,"SUM_PedFat":16,"SUM_PedInj":1169,"SUM_BikeFat":0,"SUM_BikeInj":198,"SUM_MVOFat":5,"SUM_MVOInj":2542,"SUM_Non_Inj":10992,"Month":"12/1/2011"},
{"SUM_CRASHES":12689,"SUM_Inj_Crashes":2562,"SUM_Fat_Cr":16,"SUM_Fatalities":16,"SUM_Injuries":3433,"SUM_PedFat":11,"SUM_PedInj":997,"SUM_BikeFat":1,"SUM_BikeInj":181,"SUM_MVOFat":4,"SUM_MVOInj":2255,"SUM_Non_Inj":10127,"Month":"1/1/2012"},
{"SUM_CRASHES":11709,"SUM_Inj_Crashes":2357,"SUM_Fat_Cr":13,"SUM_Fatalities":13,"SUM_Injuries":3169,"SUM_PedFat":10,"SUM_PedInj":948,"SUM_BikeFat":1,"SUM_BikeInj":173,"SUM_MVOFat":2,"SUM_MVOInj":2048,"SUM_Non_Inj":9352,"Month":"2/1/2012"},
{"SUM_CRASHES":13313,"SUM_Inj_Crashes":2662,"SUM_Fat_Cr":14,"SUM_Fatalities":14,"SUM_Injuries":3699,"SUM_PedFat":9,"SUM_PedInj":846,"SUM_BikeFat":1,"SUM_BikeInj":235,"SUM_MVOFat":4,"SUM_MVOInj":2618,"SUM_Non_Inj":10651,"Month":"3/1/2012"},
{"SUM_CRASHES":13362,"SUM_Inj_Crashes":2777,"SUM_Fat_Cr":17,"SUM_Fatalities":17,"SUM_Injuries":3823,"SUM_PedFat":9,"SUM_PedInj":881,"SUM_BikeFat":5,"SUM_BikeInj":312,"SUM_MVOFat":3,"SUM_MVOInj":2630,"SUM_Non_Inj":10585,"Month":"4/1/2012"},
{"SUM_CRASHES":14438,"SUM_Inj_Crashes":2929,"SUM_Fat_Cr":25,"SUM_Fatalities":26,"SUM_Injuries":3915,"SUM_PedFat":15,"SUM_PedInj":856,"SUM_BikeFat":1,"SUM_BikeInj":368,"SUM_MVOFat":10,"SUM_MVOInj":2691,"SUM_Non_Inj":11509,"Month":"5/1/2012"},
{"SUM_CRASHES":14662,"SUM_Inj_Crashes":2888,"SUM_Fat_Cr":20,"SUM_Fatalities":21,"SUM_Injuries":3963,"SUM_PedFat":10,"SUM_PedInj":887,"SUM_BikeFat":2,"SUM_BikeInj":366,"SUM_MVOFat":9,"SUM_MVOInj":2710,"SUM_Non_Inj":11774,"Month":"6/1/2012"},
{"SUM_CRASHES":13808,"SUM_Inj_Crashes":2861,"SUM_Fat_Cr":17,"SUM_Fatalities":21,"SUM_Injuries":3895,"SUM_PedFat":5,"SUM_PedInj":796,"SUM_BikeFat":3,"SUM_BikeInj":430,"SUM_MVOFat":13,"SUM_MVOInj":2669,"SUM_Non_Inj":10947,"Month":"7/1/2012"},
{"SUM_CRASHES":13930,"SUM_Inj_Crashes":2872,"SUM_Fat_Cr":21,"SUM_Fatalities":22,"SUM_Injuries":3799,"SUM_PedFat":13,"SUM_PedInj":806,"SUM_BikeFat":1,"SUM_BikeInj":488,"SUM_MVOFat":8,"SUM_MVOInj":2505,"SUM_Non_Inj":11058,"Month":"8/1/2012"},
{"SUM_CRASHES":13410,"SUM_Inj_Crashes":2781,"SUM_Fat_Cr":21,"SUM_Fatalities":21,"SUM_Injuries":3743,"SUM_PedFat":13,"SUM_PedInj":848,"SUM_BikeFat":1,"SUM_BikeInj":414,"SUM_MVOFat":7,"SUM_MVOInj":2481,"SUM_Non_Inj":10629,"Month":"9/1/2012"},
{"SUM_CRASHES":13731,"SUM_Inj_Crashes":2777,"SUM_Fat_Cr":17,"SUM_Fatalities":17,"SUM_Injuries":3740,"SUM_PedFat":11,"SUM_PedInj":929,"SUM_BikeFat":1,"SUM_BikeInj":317,"SUM_MVOFat":5,"SUM_MVOInj":2494,"SUM_Non_Inj":10954,"Month":"10/1/2012"},
{"SUM_CRASHES":12950,"SUM_Inj_Crashes":2502,"SUM_Fat_Cr":12,"SUM_Fatalities":12,"SUM_Injuries":3302,"SUM_PedFat":7,"SUM_PedInj":974,"SUM_BikeFat":0,"SUM_BikeInj":264,"SUM_MVOFat":5,"SUM_MVOInj":2064,"SUM_Non_Inj":10448,"Month":"11/1/2012"},
{"SUM_CRASHES":13878,"SUM_Inj_Crashes":2884,"SUM_Fat_Cr":22,"SUM_Fatalities":23,"SUM_Injuries":3760,"SUM_PedFat":15,"SUM_PedInj":1217,"SUM_BikeFat":0,"SUM_BikeInj":205,"SUM_MVOFat":8,"SUM_MVOInj":2338,"SUM_Non_Inj":10994,"Month":"12/1/2012"},
{"SUM_CRASHES":12787,"SUM_Inj_Crashes":2537,"SUM_Fat_Cr":24,"SUM_Fatalities":26,"SUM_Injuries":3276,"SUM_PedFat":19,"SUM_PedInj":1049,"SUM_BikeFat":0,"SUM_BikeInj":184,"SUM_MVOFat":7,"SUM_MVOInj":2043,"SUM_Non_Inj":10250,"Month":"1/1/2013"},
{"SUM_CRASHES":11896,"SUM_Inj_Crashes":2192,"SUM_Fat_Cr":17,"SUM_Fatalities":17,"SUM_Injuries":2859,"SUM_PedFat":11,"SUM_PedInj":936,"SUM_BikeFat":0,"SUM_BikeInj":125,"SUM_MVOFat":6,"SUM_MVOInj":1798,"SUM_Non_Inj":9704,"Month":"2/1/2013"},
{"SUM_CRASHES":13625,"SUM_Inj_Crashes":2535,"SUM_Fat_Cr":18,"SUM_Fatalities":20,"SUM_Injuries":3444,"SUM_PedFat":11,"SUM_PedInj":934,"SUM_BikeFat":1,"SUM_BikeInj":191,"SUM_MVOFat":8,"SUM_MVOInj":2319,"SUM_Non_Inj":11090,"Month":"3/1/2013"},
{"SUM_CRASHES":13549,"SUM_Inj_Crashes":2710,"SUM_Fat_Cr":12,"SUM_Fatalities":13,"SUM_Injuries":3667,"SUM_PedFat":9,"SUM_PedInj":857,"SUM_BikeFat":0,"SUM_BikeInj":284,"SUM_MVOFat":4,"SUM_MVOInj":2526,"SUM_Non_Inj":10839,"Month":"4/1/2013"},
{"SUM_CRASHES":15204,"SUM_Inj_Crashes":3071,"SUM_Fat_Cr":13,"SUM_Fatalities":13,"SUM_Injuries":4134,"SUM_PedFat":6,"SUM_PedInj":930,"SUM_BikeFat":2,"SUM_BikeInj":389,"SUM_MVOFat":5,"SUM_MVOInj":2815,"SUM_Non_Inj":12133,"Month":"5/1/2013"},
{"SUM_CRASHES":14834,"SUM_Inj_Crashes":3081,"SUM_Fat_Cr":17,"SUM_Fatalities":17,"SUM_Injuries":4197,"SUM_PedFat":10,"SUM_PedInj":902,"SUM_BikeFat":3,"SUM_BikeInj":495,"SUM_MVOFat":4,"SUM_MVOInj":2800,"SUM_Non_Inj":11753,"Month":"6/1/2013"},
{"SUM_CRASHES":14340,"SUM_Inj_Crashes":3021,"SUM_Fat_Cr":22,"SUM_Fatalities":22,"SUM_Injuries":4194,"SUM_PedFat":13,"SUM_PedInj":810,"SUM_BikeFat":0,"SUM_BikeInj":449,"SUM_MVOFat":9,"SUM_MVOInj":2935,"SUM_Non_Inj":11319,"Month":"7/1/2013"},
{"SUM_CRASHES":13548,"SUM_Inj_Crashes":2930,"SUM_Fat_Cr":25,"SUM_Fatalities":27,"SUM_Injuries":3930,"SUM_PedFat":12,"SUM_PedInj":808,"SUM_BikeFat":1,"SUM_BikeInj":499,"SUM_MVOFat":14,"SUM_MVOInj":2623,"SUM_Non_Inj":10618,"Month":"8/1/2013"},
{"SUM_CRASHES":13761,"SUM_Inj_Crashes":3001,"SUM_Fat_Cr":20,"SUM_Fatalities":21,"SUM_Injuries":4077,"SUM_PedFat":12,"SUM_PedInj":945,"SUM_BikeFat":0,"SUM_BikeInj":457,"SUM_MVOFat":9,"SUM_MVOInj":2675,"SUM_Non_Inj":10760,"Month":"9/1/2013"},
{"SUM_CRASHES":14343,"SUM_Inj_Crashes":2956,"SUM_Fat_Cr":19,"SUM_Fatalities":19,"SUM_Injuries":3936,"SUM_PedFat":13,"SUM_PedInj":997,"SUM_BikeFat":2,"SUM_BikeInj":411,"SUM_MVOFat":4,"SUM_MVOInj":2528,"SUM_Non_Inj":11387,"Month":"10/1/2013"},
{"SUM_CRASHES":14389,"SUM_Inj_Crashes":2853,"SUM_Fat_Cr":25,"SUM_Fatalities":26,"SUM_Injuries":3789,"SUM_PedFat":20,"SUM_PedInj":1044,"SUM_BikeFat":2,"SUM_BikeInj":270,"SUM_MVOFat":4,"SUM_MVOInj":2475,"SUM_Non_Inj":11536,"Month":"11/1/2013"},
{"SUM_CRASHES":14147,"SUM_Inj_Crashes":2661,"SUM_Fat_Cr":20,"SUM_Fatalities":21,"SUM_Injuries":3479,"SUM_PedFat":14,"SUM_PedInj":1097,"SUM_BikeFat":0,"SUM_BikeInj":169,"SUM_MVOFat":7,"SUM_MVOInj":2213,"SUM_Non_Inj":11486,"Month":"12/1/2013"},
{"SUM_CRASHES":13513,"SUM_Inj_Crashes":2431,"SUM_Fat_Cr":18,"SUM_Fatalities":18,"SUM_Injuries":3191,"SUM_PedFat":12,"SUM_PedInj":1022,"SUM_BikeFat":1,"SUM_BikeInj":115,"SUM_MVOFat":5,"SUM_MVOInj":2054,"SUM_Non_Inj":11082,"Month":"1/1/2014"},
{"SUM_CRASHES":12979,"SUM_Inj_Crashes":1888,"SUM_Fat_Cr":9,"SUM_Fatalities":9,"SUM_Injuries":2469,"SUM_PedFat":7,"SUM_PedInj":764,"SUM_BikeFat":1,"SUM_BikeInj":90,"SUM_MVOFat":1,"SUM_MVOInj":1615,"SUM_Non_Inj":11091,"Month":"2/1/2014"},
{"SUM_CRASHES":12902,"SUM_Inj_Crashes":2306,"SUM_Fat_Cr":16,"SUM_Fatalities":16,"SUM_Injuries":3090,"SUM_PedFat":10,"SUM_PedInj":882,"SUM_BikeFat":0,"SUM_BikeInj":177,"SUM_MVOFat":6,"SUM_MVOInj":2031,"SUM_Non_Inj":10596,"Month":"3/1/2014"},
{"SUM_CRASHES":13123,"SUM_Inj_Crashes":2439,"SUM_Fat_Cr":17,"SUM_Fatalities":20,"SUM_Injuries":3250,"SUM_PedFat":8,"SUM_PedInj":798,"SUM_BikeFat":2,"SUM_BikeInj":292,"SUM_MVOFat":10,"SUM_MVOInj":2160,"SUM_Non_Inj":10684,"Month":"4/1/2014"},
{"SUM_CRASHES":14480,"SUM_Inj_Crashes":2689,"SUM_Fat_Cr":18,"SUM_Fatalities":19,"SUM_Injuries":3659,"SUM_PedFat":7,"SUM_PedInj":824,"SUM_BikeFat":2,"SUM_BikeInj":363,"SUM_MVOFat":10,"SUM_MVOInj":2472,"SUM_Non_Inj":11791,"Month":"5/1/2014"},
{"SUM_CRASHES":14699,"SUM_Inj_Crashes":2912,"SUM_Fat_Cr":16,"SUM_Fatalities":16,"SUM_Injuries":4036,"SUM_PedFat":6,"SUM_PedInj":879,"SUM_BikeFat":3,"SUM_BikeInj":450,"SUM_MVOFat":7,"SUM_MVOInj":2707,"SUM_Non_Inj":11787,"Month":"6/1/2014"},
{"SUM_CRASHES":13659,"SUM_Inj_Crashes":2759,"SUM_Fat_Cr":21,"SUM_Fatalities":21,"SUM_Injuries":3648,"SUM_PedFat":11,"SUM_PedInj":711,"SUM_BikeFat":2,"SUM_BikeInj":506,"SUM_MVOFat":8,"SUM_MVOInj":2431,"SUM_Non_Inj":10900,"Month":"7/1/2014"}];


var stats2 = 
[{"SUM_CRASHES":168543,"SUM_Inj_Crashes":33089,"SUM_Fat_Crashes":158,"SUM_Fatalities":166,"SUM_Injuries":45807,"SUM_PedFat":102,"SUM_PedInj":11324,"SUM_BikeFat":10,"SUM_BikeInj":3168,"SUM_MVOFat":54,"SUM_MVOInj":31315,"SUM_Non_Inj":135454,"Year":2009},
{"SUM_CRASHES":170027,"SUM_Inj_Crashes":34342,"SUM_Fat_Crashes":147,"SUM_Fatalities":150,"SUM_Injuries":47553,"SUM_PedFat":89,"SUM_PedInj":11400,"SUM_BikeFat":12,"SUM_BikeInj":3853,"SUM_MVOFat":49,"SUM_MVOInj":32300,"SUM_Non_Inj":135685,"Year":2010},
{"SUM_CRASHES":163542,"SUM_Inj_Crashes":32902,"SUM_Fat_Crashes":159,"SUM_Fatalities":161,"SUM_Injuries":44868,"SUM_PedFat":96,"SUM_PedInj":11361,"SUM_BikeFat":16,"SUM_BikeInj":3639,"SUM_MVOFat":49,"SUM_MVOInj":29868,"SUM_Non_Inj":130640,"Year":2011},
{"SUM_CRASHES":161880,"SUM_Inj_Crashes":32852,"SUM_Fat_Crashes":215,"SUM_Fatalities":223,"SUM_Injuries":44241,"SUM_PedFat":128,"SUM_PedInj":10985,"SUM_BikeFat":17,"SUM_BikeInj":3753,"SUM_MVOFat":78,"SUM_MVOInj":29503,"SUM_Non_Inj":129028,"Year":2012},
{"SUM_CRASHES":166423,"SUM_Inj_Crashes":33548,"SUM_Fat_Crashes":232,"SUM_Fatalities":242,"SUM_Injuries":44982,"SUM_PedFat":150,"SUM_PedInj":11309,"SUM_BikeFat":11,"SUM_BikeInj":3923,"SUM_MVOFat":81,"SUM_MVOInj":29750,"SUM_Non_Inj":132875,"Year":2013},
{"SUM_CRASHES":96862,"SUM_Inj_Crashes":17720,"SUM_Fat_Crashes":117,"SUM_Fatalities":121,"SUM_Injuries":23746,"SUM_PedFat":62,"SUM_PedInj":5964,"SUM_BikeFat":11,"SUM_BikeInj":2030,"SUM_MVOFat":48,"SUM_MVOInj":15752,"SUM_Non_Inj":79142,"Year":2014}];




////////////////////////////////////    mobile view crash layer selector ///////////////////////////////////////////////////////////////////////////////

$('#jqxslider').bind('change', function(event) {

       checkStats();
              
});

$('#jqxslider2').bind('change', function(event) {

       checkStats();
              
});

function checkStats(){
             
    var monthVal = $("#monthSelect").val();
       var yearVal = $("#yearSelect").val();
       selectMonthVal = parseInt(monthVal);
       selectYearVal = parseInt(yearVal);

       if ($('#yearSelect').is(':visible')) {
              var curInjuryValue;
              curInjuryValue = smallScreenCrashLayer();
              
              if (curInjuryValue >= 67){
                     $("#stat1Mobile").text("Data not yet available");
                     $("#stat2Mobile").text("");
                     
              }
              else{
                setStats(curInjuryValue);
              }
     }
       
       else{
              if (monthly){
                     var curInjuryValue;
                     curInjuryValue = $('#jqxslider').jqxSlider('getValue');
                     setStats(curInjuryValue);
              }
              else if (yearly){
                    var curInjuryValue;
                     curInjuryValue = $('#jqxslider2').jqxSlider('getValue');
                     setStats(curInjuryValue);
                    
               }
     }
       
  


}

function setStats(curInjuryValue) {
       if (monthly){
            if (ped){
                     $("#stat1").text("Pedestrian Fatalities: " + stats[curInjuryValue].SUM_PedFat);
                     $("#stat2").text("Pedestrian Injuries: " + commaSeparateNumber(stats[curInjuryValue].SUM_PedInj));
                                  $("#stat1Mobile").text("Pedestrian Fatalities: " + stats[curInjuryValue].SUM_PedFat);
                     $("#stat2Mobile").text("Pedestrian Injuries: " + commaSeparateNumber(stats[curInjuryValue].SUM_PedInj));
                     
              }
              else if (bike){
                     $("#stat1").text("Cyclist Fatalities: " + stats[curInjuryValue].SUM_BikeFat);
                     $("#stat2").text("Cyclist Injuries: " + commaSeparateNumber(stats[curInjuryValue].SUM_BikeInj));
                                  $("#stat1Mobile").text("Cyclist Fatalities: " + stats[curInjuryValue].SUM_BikeFat);
                     $("#stat2Mobile").text("Cyclist Injuries: " + commaSeparateNumber(stats[curInjuryValue].SUM_BikeInj));
                     

              }
              else if (motor){
                     $("#stat1").text("Motorist Fatalities: " + stats[curInjuryValue].SUM_MVOFat);
                     $("#stat2").text("Motorist Injuries: " + commaSeparateNumber(stats[curInjuryValue].SUM_MVOInj));
                                  $("#stat1Mobile").text("Motorist Fatalities: " + stats[curInjuryValue].SUM_MVOFat);
                     $("#stat2Mobile").text("Motorist Injuries: " + commaSeparateNumber(stats[curInjuryValue].SUM_MVOInj));
                     
              }
              else if (all){
                     console.log(curInjuryValue);
                   //  $("#stat1").text("All Fatalities: " +  commaSeparateNumber(stats[curInjuryValue].SUM_Fatalities));
                    // $("#stat2").text("All Injuries: " +  commaSeparateNumber(stats[curInjuryValue].SUM_Injuries));
                    // $("#stat1Mobile").text("All Fatalities: " +  commaSeparateNumber(stats[curInjuryValue].SUM_Fatalities));
                     //$("#stat2Mobile").text("All Injuries: " +  commaSeparateNumber(stats[curInjuryValue].SUM_Injuries));
                                    
              }
              
              
       }
       
       else if (yearly){

              if (ped){
                     $("#stat1").text("Pedestrian Fatalities: " + stats2[curInjuryValue].SUM_PedFat);
                     $("#stat2").text("Pedestrian Injuries: " + commaSeparateNumber(stats2[curInjuryValue].SUM_PedInj));
                                  $("#stat1Mobile").text("Pedestrian Fatalities: " + stats2[curInjuryValue].SUM_PedFat);
                     $("#stat2Mobile").text("Pedestrian Injuries: " + commaSeparateNumber(stats2[curInjuryValue].SUM_PedInj));
                     
                     //console.log($("#stat1").text);  
              }
              else if (bike){
                     $("#stat1").text("Cyclist Fatalities: " + stats2[curInjuryValue].SUM_BikeFat);
                     $("#stat2").text("Cyclist Injuries: " + commaSeparateNumber(stats2[curInjuryValue].SUM_BikeInj));
                                  $("#stat1Mobile").text("Cyclist Fatalities: " + stats2[curInjuryValue].SUM_BikeFat);
                     $("#stat2Mobile").text("Cyclist Injuries: " + commaSeparateNumber(stats2[curInjuryValue].SUM_BikeInj));
                     
                     //console.log($("#stat1").text);  
              }
              else if (motor){
                     $("#stat1").text("Motorist Fatalities: " + stats2[curInjuryValue].SUM_MVOFat);
                     $("#stat2").text("Motorist Injuries: " + commaSeparateNumber(stats2[curInjuryValue].SUM_MVOInj));
                                  $("#stat1Mobile").text("Motorist Fatalities: " + stats2[curInjuryValue].SUM_MVOFat);
                     $("#stat2Mobile").text("Motorist Injuries: " + commaSeparateNumber(stats2[curInjuryValue].SUM_MVOInj));
                     
                     //console.log($("#stat1").text);  
              }
              else if (all){
                     $("#stat1").text("All Fatalities: " + stats2[curInjuryValue].SUM_Fatalities);
                     $("#stat2").text("All Injuries: " + commaSeparateNumber(stats2[curInjuryValue].SUM_Injuries));
                     $("#stat1Mobile").text("All Fatalities: " + stats2[curInjuryValue].SUM_Fatalities);
                     $("#stat2Mobile").text("All Injuries: " + commaSeparateNumber(stats2[curInjuryValue].SUM_Injuries));

                       }
              }
}

function commaSeparateNumber(val){
    val = val.toString().replace(/,/g, ''); //remove existing commas first
   var valSplit = val.split('.'); //then separate decimals
              
   while (/(\d+)(\d{3})/.test(valSplit[0].toString())){
        valSplit[0] = valSplit[0].toString().replace(/(\d+)(\d{3})/, '$1'+','+'$2');
    }
    
    if(valSplit.length == 2){ //if there were decimals
        val = valSplit[0] + "." + valSplit[1]; //add decimals back
    }else{
        val = valSplit[0]; }
       
    return val;
}
